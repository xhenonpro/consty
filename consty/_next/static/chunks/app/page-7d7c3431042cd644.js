(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5717:(e,s,t)=>{Promise.resolve().then(t.bind(t,8319))},8319:(e,s,t)=>{"use strict";t.d(s,{default:()=>f});var a=t(5155),l=t(9137),d=t.n(l),o=t(2115),r=t(3540),n=t(9532),c=t(4754),i=t(6025),x=t(2071),m=t(9498),h=t(6973);let b={users:12,projects:5,materials:23,machines:7,tasks:42,architects:3,employees:18,projectStats:[{name:"Ongoing",value:3},{name:"Completed",value:1},{name:"Pending",value:1}]};function f(){let[e,s]=(0,o.useState)(null),[t,l]=(0,o.useState)(!0),[f,j]=(0,o.useState)(""),[g,p]=(0,o.useState)(!0);(0,o.useEffect)(()=>{fetch("http://localhost/consty/api/dashboard.php").then(async e=>{if(!e.ok)throw Error((await e.json().catch(()=>({}))).error||e.statusText||"Unknown error");return e.json()}).then(e=>{s(e),l(!1)}).catch(e=>{j("Failed to load dashboard data. "+(e.message||"")),s(b),l(!1)})},[]);let v=(null==e?void 0:e.projectStats)||b.projectStats;return(0,a.jsxs)("section",{className:"jsx-4d256e76b9f99ecd w-full max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"jsx-4d256e76b9f99ecd bg-gradient-to-r from-blue-500 to-indigo-600 rounded-3xl shadow-xl p-8 md:p-16 text-white mb-8 flex flex-col md:flex-row items-center justify-between gap-8",children:[(0,a.jsxs)("div",{className:"jsx-4d256e76b9f99ecd",children:[(0,a.jsx)("h1",{className:"jsx-4d256e76b9f99ecd text-3xl md:text-5xl font-extrabold mb-4 drop-shadow-lg",children:"Welcome to Consty "}),(0,a.jsx)("p",{className:"jsx-4d256e76b9f99ecd text-lg md:text-2xl font-medium mb-6 opacity-90",children:"A modern, responsive, and beautiful construction site powered by Next.js & Tailwind CSS."}),(0,a.jsx)("a",{href:"#",className:"jsx-4d256e76b9f99ecd inline-block bg-white text-blue-700 font-bold px-6 py-3 rounded-xl shadow hover:bg-blue-50 transition",children:"Get Started"})]}),(0,a.jsx)("img",{src:"/assets/images/logo.svg",alt:"Dashboard Illustration",className:"jsx-4d256e76b9f99ecd w-32 h-32 md:w-48 md:h-48 drop-shadow-xl"})]}),f&&g&&(0,a.jsxs)("div",{className:"jsx-4d256e76b9f99ecd mb-6 flex items-center justify-between bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-lg shadow relative animate-fadeIn",children:[(0,a.jsx)("span",{className:"jsx-4d256e76b9f99ecd",children:f}),(0,a.jsx)("button",{onClick:()=>p(!1),className:"jsx-4d256e76b9f99ecd ml-4 text-xl font-bold leading-none hover:text-red-900",children:"\xd7"})]}),(0,a.jsx)("div",{className:"jsx-4d256e76b9f99ecd grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t?(0,a.jsx)("div",{className:"jsx-4d256e76b9f99ecd col-span-full text-center text-lg text-blue-700 dark:text-blue-300",children:"Loading dashboard..."}):e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u,{label:"Users",value:e.users,color:"from-blue-400 to-blue-600"}),(0,a.jsx)(u,{label:"Projects",value:e.projects,color:"from-green-400 to-green-600"}),(0,a.jsx)(u,{label:"Materials",value:e.materials,color:"from-yellow-400 to-yellow-600"}),(0,a.jsx)(u,{label:"Machines",value:e.machines,color:"from-indigo-400 to-indigo-600"}),(0,a.jsx)(u,{label:"Tasks",value:e.tasks,color:"from-pink-400 to-pink-600"}),(0,a.jsx)(u,{label:"Architects",value:e.architects,color:"from-purple-400 to-purple-600"}),(0,a.jsx)(u,{label:"Employees",value:e.employees,color:"from-teal-400 to-teal-600"})]})}),(0,a.jsxs)("div",{className:"jsx-4d256e76b9f99ecd mt-10 bg-white dark:bg-gray-900 rounded-2xl shadow-lg p-6",children:[(0,a.jsx)("h2",{className:"jsx-4d256e76b9f99ecd text-xl font-bold mb-4 text-blue-700 dark:text-blue-300",children:"Projects Overview"}),(0,a.jsx)(r.u,{width:"100%",height:300,children:(0,a.jsxs)(n.E,{data:v,children:[(0,a.jsx)(c.d,{strokeDasharray:"3 3"}),(0,a.jsx)(i.W,{dataKey:"name",stroke:"#8884d8"}),(0,a.jsx)(x.h,{allowDecimals:!1}),(0,a.jsx)(m.m,{}),(0,a.jsx)(h.y,{dataKey:"value",fill:"#6366f1",radius:[8,8,0,0]})]})})]}),(0,a.jsx)(d(),{id:"4d256e76b9f99ecd",children:"@keyframes fadeIn{from{opacity:0}to{opacity:1}}.animate-fadeIn{animation:fadeIn.3s ease}"})]})}function u(e){let{label:s,value:t,color:l}=e;return(0,a.jsxs)("div",{className:"bg-gradient-to-br ".concat(l," text-white rounded-2xl shadow-lg p-6 flex flex-col items-center justify-center hover:scale-[1.03] transition-transform"),children:[(0,a.jsx)("div",{className:"text-3xl font-extrabold mb-2",children:t}),(0,a.jsx)("div",{className:"text-lg font-semibold tracking-wide",children:s})]})}}},e=>{e.O(0,[208,441,964,358],()=>e(e.s=5717)),_N_E=e.O()}]);