(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[605],{4556:(e,t,s)=>{Promise.resolve().then(s.bind(s,5668))},5668:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var d=s(5155),a=s(9137),l=s.n(a),n=s(2115);let c=(0,s(5028).default)(()=>s.e(198).then(s.bind(s,4198)),{loadableGenerated:{webpack:()=>[4198]},ssr:!1});function r(){let[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(!0),[r,i]=(0,n.useState)(""),[x,o]=(0,n.useState)(!1),[b,h]=(0,n.useState)(null),f=()=>{a(!0),fetch("http://localhost/consty/api/machines.php").then(async e=>{if(!e.ok)throw Error((await e.json().catch(()=>({}))).error||e.statusText||"Unknown error");return e.json()}).then(e=>{t(e.machines||[]),a(!1)}).catch(e=>{i("Failed to load machines. "+(e.message||"")),a(!1)})};return(0,n.useEffect)(()=>{f()},[]),(0,d.jsxs)("div",{className:"jsx-4d256e76b9f99ecd w-full max-w-5xl mx-auto py-8 px-2 md:px-0",children:[(0,d.jsxs)("div",{className:"jsx-4d256e76b9f99ecd flex items-center justify-between mb-6",children:[(0,d.jsx)("h1",{className:"jsx-4d256e76b9f99ecd text-3xl font-extrabold text-blue-700 dark:text-blue-300",children:"Machines"}),(0,d.jsx)("button",{onClick:()=>{o(!0),h(null)},className:"jsx-4d256e76b9f99ecd bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-xl shadow transition text-lg",children:"+ Add Machine"})]}),r&&(0,d.jsxs)("div",{className:"jsx-4d256e76b9f99ecd mb-6 flex items-center justify-between bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-lg shadow relative animate-fadeIn",children:[(0,d.jsx)("span",{className:"jsx-4d256e76b9f99ecd",children:r}),(0,d.jsx)("button",{onClick:()=>i(""),className:"jsx-4d256e76b9f99ecd ml-4 text-xl font-bold leading-none hover:text-red-900",children:"\xd7"})]}),(0,d.jsx)("div",{className:"jsx-4d256e76b9f99ecd overflow-x-auto rounded-2xl shadow-lg bg-white dark:bg-gray-900",children:(0,d.jsxs)("table",{className:"jsx-4d256e76b9f99ecd min-w-full divide-y divide-gray-200 dark:divide-gray-800",children:[(0,d.jsx)("thead",{className:"jsx-4d256e76b9f99ecd bg-blue-50 dark:bg-blue-950",children:(0,d.jsxs)("tr",{className:"jsx-4d256e76b9f99ecd",children:[(0,d.jsx)("th",{className:"jsx-4d256e76b9f99ecd px-6 py-3 text-left text-xs font-bold text-blue-700 dark:text-blue-300 uppercase tracking-wider",children:"Name"}),(0,d.jsx)("th",{className:"jsx-4d256e76b9f99ecd px-6 py-3 text-left text-xs font-bold text-blue-700 dark:text-blue-300 uppercase tracking-wider",children:"Quantity"}),(0,d.jsx)("th",{className:"jsx-4d256e76b9f99ecd px-6 py-3 text-center text-xs font-bold text-blue-700 dark:text-blue-300 uppercase tracking-wider",children:"Actions"})]})}),(0,d.jsx)("tbody",{className:"jsx-4d256e76b9f99ecd bg-white dark:bg-gray-900 divide-y divide-gray-100 dark:divide-gray-800",children:s?(0,d.jsx)("tr",{className:"jsx-4d256e76b9f99ecd",children:(0,d.jsx)("td",{colSpan:3,className:"jsx-4d256e76b9f99ecd text-center py-8 text-blue-700 dark:text-blue-300",children:"Loading..."})}):0===e.length?(0,d.jsx)("tr",{className:"jsx-4d256e76b9f99ecd",children:(0,d.jsx)("td",{colSpan:3,className:"jsx-4d256e76b9f99ecd text-center py-8 text-gray-400",children:"No machines found."})}):e.map(e=>(0,d.jsxs)("tr",{className:"jsx-4d256e76b9f99ecd hover:bg-blue-50 dark:hover:bg-blue-950 transition",children:[(0,d.jsx)("td",{className:"jsx-4d256e76b9f99ecd px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:e.name}),(0,d.jsx)("td",{className:"jsx-4d256e76b9f99ecd px-6 py-4",children:e.quantity}),(0,d.jsxs)("td",{className:"jsx-4d256e76b9f99ecd px-6 py-4 text-center flex gap-2 justify-center",children:[(0,d.jsx)("button",{title:"Edit",onClick:()=>{h(e),o(!0)},className:"jsx-4d256e76b9f99ecd bg-yellow-100 hover:bg-yellow-200 text-yellow-700 font-bold py-1 px-3 rounded-lg text-xs shadow transition",children:"Edit"}),(0,d.jsx)("button",{title:"Remove",onClick:async()=>{confirm("Are you sure you want to remove this machine?")&&(await fetch("http://localhost/consty/api/machines.php",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})}),f())},className:"jsx-4d256e76b9f99ecd bg-red-100 hover:bg-red-200 text-red-700 font-bold py-1 px-3 rounded-lg text-xs shadow transition",children:"Remove"})]})]},e.id))})]})}),(0,d.jsx)(n.Suspense,{fallback:null,children:x&&(0,d.jsx)(c,{onClose:()=>{o(!1),h(null)},onSave:()=>{o(!1),h(null),f()},machine:b})}),(0,d.jsx)(l(),{id:"4d256e76b9f99ecd",children:"@keyframes fadeIn{from{opacity:0}to{opacity:1}}.animate-fadeIn{animation:fadeIn.3s ease}"})]})}}},e=>{e.O(0,[659,441,964,358],()=>e(e.s=4556)),_N_E=e.O()}]);