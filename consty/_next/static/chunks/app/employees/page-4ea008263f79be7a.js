(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[708],{2545:(e,t,s)=>{Promise.resolve().then(s.bind(s,6647))},6647:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var d=s(5155),a=s(9137),l=s.n(a),x=s(2115);let c=(0,s(5028).default)(()=>s.e(915).then(s.bind(s,4915)),{loadableGenerated:{webpack:()=>[4915]},ssr:!1});function r(){let[e,t]=(0,x.useState)([]),[s,a]=(0,x.useState)(!0),[r,n]=(0,x.useState)(""),[i,o]=(0,x.useState)(!1),[b,p]=(0,x.useState)(null),h=()=>{a(!0),fetch("http://localhost/consty/api/employees.php").then(async e=>{if(!e.ok)throw Error((await e.json().catch(()=>({}))).error||e.statusText||"Unknown error");return e.json()}).then(e=>{t(e.employees||[]),a(!1)}).catch(e=>{n("Failed to load employees. "+(e.message||"")),a(!1)})};return(0,x.useEffect)(()=>{h()},[]),(0,d.jsxs)("div",{className:"jsx-4d256e76b9f99ecd w-full max-w-5xl mx-auto py-8 px-2 md:px-0",children:[(0,d.jsxs)("div",{className:"jsx-4d256e76b9f99ecd flex items-center justify-between mb-6",children:[(0,d.jsx)("h1",{className:"jsx-4d256e76b9f99ecd text-3xl font-extrabold text-blue-700 dark:text-blue-300",children:"Employees"}),(0,d.jsx)("button",{onClick:()=>{o(!0),p(null)},className:"jsx-4d256e76b9f99ecd bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-xl shadow transition text-lg",children:"+ Add Employee"})]}),r&&(0,d.jsxs)("div",{className:"jsx-4d256e76b9f99ecd mb-6 flex items-center justify-between bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-lg shadow relative animate-fadeIn",children:[(0,d.jsx)("span",{className:"jsx-4d256e76b9f99ecd",children:r}),(0,d.jsx)("button",{onClick:()=>n(""),className:"jsx-4d256e76b9f99ecd ml-4 text-xl font-bold leading-none hover:text-red-900",children:"\xd7"})]}),(0,d.jsx)("div",{className:"jsx-4d256e76b9f99ecd overflow-x-auto rounded-2xl shadow-lg bg-white dark:bg-gray-900",children:(0,d.jsxs)("table",{className:"jsx-4d256e76b9f99ecd min-w-full divide-y divide-gray-200 dark:divide-gray-800",children:[(0,d.jsx)("thead",{className:"jsx-4d256e76b9f99ecd bg-blue-50 dark:bg-blue-950",children:(0,d.jsxs)("tr",{className:"jsx-4d256e76b9f99ecd",children:[(0,d.jsx)("th",{className:"jsx-4d256e76b9f99ecd px-6 py-3 text-left text-xs font-bold text-blue-700 dark:text-blue-300 uppercase tracking-wider",children:"Name"}),(0,d.jsx)("th",{className:"jsx-4d256e76b9f99ecd px-6 py-3 text-left text-xs font-bold text-blue-700 dark:text-blue-300 uppercase tracking-wider",children:"Salary"}),(0,d.jsx)("th",{className:"jsx-4d256e76b9f99ecd px-6 py-3 text-left text-xs font-bold text-blue-700 dark:text-blue-300 uppercase tracking-wider",children:"Project ID"}),(0,d.jsx)("th",{className:"jsx-4d256e76b9f99ecd px-6 py-3 text-left text-xs font-bold text-blue-700 dark:text-blue-300 uppercase tracking-wider",children:"Email"}),(0,d.jsx)("th",{className:"jsx-4d256e76b9f99ecd px-6 py-3 text-left text-xs font-bold text-blue-700 dark:text-blue-300 uppercase tracking-wider",children:"Phone"}),(0,d.jsx)("th",{className:"jsx-4d256e76b9f99ecd px-6 py-3 text-center text-xs font-bold text-blue-700 dark:text-blue-300 uppercase tracking-wider",children:"Actions"})]})}),(0,d.jsx)("tbody",{className:"jsx-4d256e76b9f99ecd bg-white dark:bg-gray-900 divide-y divide-gray-100 dark:divide-gray-800",children:s?(0,d.jsx)("tr",{className:"jsx-4d256e76b9f99ecd",children:(0,d.jsx)("td",{colSpan:6,className:"jsx-4d256e76b9f99ecd text-center py-8 text-blue-700 dark:text-blue-300",children:"Loading..."})}):0===e.length?(0,d.jsx)("tr",{className:"jsx-4d256e76b9f99ecd",children:(0,d.jsx)("td",{colSpan:6,className:"jsx-4d256e76b9f99ecd text-center py-8 text-gray-400",children:"No employees found."})}):e.map(e=>(0,d.jsxs)("tr",{className:"jsx-4d256e76b9f99ecd hover:bg-blue-50 dark:hover:bg-blue-950 transition",children:[(0,d.jsx)("td",{className:"jsx-4d256e76b9f99ecd px-6 py-4 font-semibold text-gray-900 dark:text-gray-100",children:e.name}),(0,d.jsxs)("td",{className:"jsx-4d256e76b9f99ecd px-6 py-4",children:["$",e.salary.toFixed(2)]}),(0,d.jsx)("td",{className:"jsx-4d256e76b9f99ecd px-6 py-4",children:e.project_id||(0,d.jsx)("span",{className:"jsx-4d256e76b9f99ecd text-gray-400",children:"-"})}),(0,d.jsx)("td",{className:"jsx-4d256e76b9f99ecd px-6 py-4",children:e.email||(0,d.jsx)("span",{className:"jsx-4d256e76b9f99ecd text-gray-400",children:"-"})}),(0,d.jsx)("td",{className:"jsx-4d256e76b9f99ecd px-6 py-4",children:e.phone||(0,d.jsx)("span",{className:"jsx-4d256e76b9f99ecd text-gray-400",children:"-"})}),(0,d.jsxs)("td",{className:"jsx-4d256e76b9f99ecd px-6 py-4 text-center flex gap-2 justify-center",children:[(0,d.jsx)("button",{title:"Edit",onClick:()=>{p(e),o(!0)},className:"jsx-4d256e76b9f99ecd bg-yellow-100 hover:bg-yellow-200 text-yellow-700 font-bold py-1 px-3 rounded-lg text-xs shadow transition",children:"Edit"}),(0,d.jsx)("button",{title:"Remove",onClick:async()=>{confirm("Are you sure you want to remove this employee?")&&(await fetch("http://localhost/consty/api/employees.php",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})}),h())},className:"jsx-4d256e76b9f99ecd bg-red-100 hover:bg-red-200 text-red-700 font-bold py-1 px-3 rounded-lg text-xs shadow transition",children:"Remove"})]})]},e.id))})]})}),(0,d.jsx)(x.Suspense,{fallback:null,children:i&&(0,d.jsx)(c,{onClose:()=>{o(!1),p(null)},onSave:()=>{o(!1),p(null),h()},employee:b})}),(0,d.jsx)(l(),{id:"4d256e76b9f99ecd",children:"@keyframes fadeIn{from{opacity:0}to{opacity:1}}.animate-fadeIn{animation:fadeIn.3s ease}"})]})}}},e=>{e.O(0,[659,441,964,358],()=>e(e.s=2545)),_N_E=e.O()}]);