"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[198],{4198:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var r=a(5155),l=a(2115);function n(e){let{onClose:t,onSave:a,machine:n}=e,[d,i]=(0,l.useState)((null==n?void 0:n.name)||""),[s,o]=(0,l.useState)((null==n?void 0:n.quantity)||""),[u,c]=(0,l.useState)(!1),[b,h]=(0,l.useState)("");(0,l.useEffect)(()=>{i((null==n?void 0:n.name)||""),o((null==n?void 0:n.quantity)||"")},[n]);let x=async e=>{e.preventDefault(),c(!0),h("");let t=n?"PATCH":"POST",r=n?{id:n.id,name:d,quantity:s}:{name:d,quantity:s},l=await fetch("http://localhost/consty/api/machines.php",{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),i=await l.json();if(c(!1),!l.ok)return void h(i.error||"Failed to save machine.");a()};return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 animate-fadeIn",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-8 w-full max-w-md relative",children:[(0,r.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-2xl text-gray-400 hover:text-red-500",children:"\xd7"}),(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-blue-700 dark:text-blue-300",children:n?"Edit Machine":"Add Machine"}),b&&(0,r.jsx)("div",{className:"mb-4 bg-red-100 border border-red-300 text-red-700 px-4 py-2 rounded-lg",children:b}),(0,r.jsxs)("form",{onSubmit:x,className:"flex flex-col gap-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"Name",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-blue-400 outline-none",value:d,onChange:e=>i(e.target.value),required:!0}),(0,r.jsx)("input",{type:"number",placeholder:"Quantity",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-blue-400 outline-none",value:s,onChange:e=>o(e.target.value),required:!0}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-xl shadow transition text-lg disabled:opacity-60",disabled:u,children:u?n?"Saving...":"Adding...":n?"Save Changes":"Add Machine"})]})]})})}}}]);