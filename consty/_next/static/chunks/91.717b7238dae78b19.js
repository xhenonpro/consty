"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{7472:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var a=r(5155),l=r(2115);function d(e){let{onClose:t,onSave:r,architect:d}=e,[o,n]=(0,l.useState)((null==d?void 0:d.name)||""),[i,s]=(0,l.useState)((null==d?void 0:d.project_id)||""),[u,c]=(0,l.useState)((null==d?void 0:d.email)||""),[p,b]=(0,l.useState)((null==d?void 0:d.phone)||""),[g,h]=(0,l.useState)(!1),[x,f]=(0,l.useState)("");(0,l.useEffect)(()=>{n((null==d?void 0:d.name)||""),s((null==d?void 0:d.project_id)||""),c((null==d?void 0:d.email)||""),b((null==d?void 0:d.phone)||"")},[d]);let m=async e=>{e.preventDefault(),h(!0),f("");let t=d?"PATCH":"POST",a=d?{id:d.id,name:o,project_id:i,email:u,phone:p}:{name:o,project_id:i,email:u,phone:p},l=await fetch("http://localhost/consty/api/architects.php",{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),n=await l.json();if(h(!1),!l.ok)return void f(n.error||"Failed to save architect.");r()};return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 animate-fadeIn",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-8 w-full max-w-md relative",children:[(0,a.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-2xl text-gray-400 hover:text-red-500",children:"\xd7"}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-blue-700 dark:text-blue-300",children:d?"Edit Architect":"Add Architect"}),x&&(0,a.jsx)("div",{className:"mb-4 bg-red-100 border border-red-300 text-red-700 px-4 py-2 rounded-lg",children:x}),(0,a.jsxs)("form",{onSubmit:m,className:"flex flex-col gap-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Name",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-blue-400 outline-none",value:o,onChange:e=>n(e.target.value),required:!0}),(0,a.jsx)("input",{type:"number",placeholder:"Project ID",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-blue-400 outline-none",value:i,onChange:e=>s(e.target.value)}),(0,a.jsx)("input",{type:"email",placeholder:"Email",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-blue-400 outline-none",value:u,onChange:e=>c(e.target.value),required:!0}),(0,a.jsx)("input",{type:"text",placeholder:"Phone",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-blue-400 outline-none",value:p,onChange:e=>b(e.target.value)}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-xl shadow transition text-lg disabled:opacity-60",disabled:g,children:g?d?"Saving...":"Adding...":d?"Save Changes":"Add Architect"})]})]})})}}}]);